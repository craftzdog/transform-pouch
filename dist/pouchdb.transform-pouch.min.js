!function r(o,i,u){function c(n,t){if(!i[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(s)return s(n,!0);throw(e=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}e=i[n]={exports:{}},o[n][0].call(e.exports,function(t){return c(o[n][1][t]||t)},e,e.exports,r,o,i,u)}return i[n].exports}for(var s="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,n,r){!function(h){!function(){"use strict";var a=t("lie"),f=t("./pouch-utils"),n=t("pouchdb-wrappers"),l=t("immediate");function e(t){return"_"!==t[0]}function o(t){return"string"==typeof t._id&&f.isLocalId(t._id)||t._deleted&&0===Object.keys(t).filter(e).length}r.transform=r.filter=function(c){function s(t){return!o(t)&&c.outgoing?c.outgoing(f.clone(t)):t}var t={};"http"===this.type()&&(t.query=function(t){var r={};return t().then(function(e){return f.Promise.all(e.rows.map(function(t){return t.doc?s(t.doc):r})).then(function(t){return t.forEach(function(t,n){t!==r&&(e.rows[n].doc=t)}),e})})}),t.get=function(t){return t().then(function(e){if(Array.isArray(e)){var r={};return f.Promise.all(e.map(function(t){return t.ok?s(t.ok):r})).then(function(t){return t.forEach(function(t,n){t!==r&&(e[n].ok=t)}),e})}return s(e)})},t.bulkDocs=function(n,e){for(var t,r=0;r<e.docs.length;r++)e.docs[r]=!o(t=e.docs[r])&&c.incoming?c.incoming(f.clone(t)):t;return a.all(e.docs).then(function(t){return e.docs=t,n()})},t.allDocs=function(t){return t().then(function(e){var r={};return f.Promise.all(e.rows.map(function(t){return t.doc?s(t.doc):r})).then(function(t){return t.forEach(function(t,n){t!==r&&(e.rows[n].doc=t)}),e})})},t.bulkGet=function(t){return t().then(function(t){var n={};return f.Promise.all(t.results.map(function(t){return t.id&&t.docs&&Array.isArray(t.docs)?{docs:t.docs.map(function(t){return t.ok?{ok:s(t.ok)}:t}),id:t.id}:n})).then(function(t){return{results:t}})})},t.changes=function(t){function e(n){return n.doc?f.Promise.resolve(s(n.doc)).then(function(t){return n.doc=t,n}):f.Promise.resolve(n)}function r(n){return n.results?f.Promise.all(n.results.map(e)).then(function(t){return n.results=t,n}):f.Promise.resolve(n)}var o=t(),i=o.on;o.on=function(t,n){return"change"===t?i.apply(o,[t,function(t){e(t).then(function(t){l(function(){n(t)})})}]):"complete"===t?i.apply(o,[t,function(t){r(t).then(function(t){h.nextTick(function(){n(t)})})}]):i.apply(o,[t,n])};var u=o.then;return o.then=function(n,e){return u.apply(o,[function(t){return r(t).then(n,e)},e])},o},t.getAttachment=function(t,o){return t().then(function(t){return n=o.docId,e=o.attachmentId,t=t,c.outgoingAttachment?c.outgoingAttachment(n,e,t,r):t;var n,e,r})},t.putAttachment=function(n,e){return a.resolve((t=e.docId,r=e.attachmentId,o=e.rev,i=e.doc,u=e.type,c.incomingAttachment?c.incomingAttachment(t,r,o,i,u):i)).then(function(t){return e.doc=t,n()});var t,r,o,i,u},n.installWrapperMethods(this,t)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(r)}.call(this)}.call(this,t("_process"))},{"./pouch-utils":11,_process:9,immediate:2,lie:4,"pouchdb-wrappers":8}],2:[function(t,a,n){!function(s){!function(){"use strict";var t,n,e,r,o=s.MutationObserver||s.WebKitMutationObserver,i=o?(t=0,o=new o(c),n=s.document.createTextNode(""),o.observe(n,{characterData:!0}),function(){n.data=t=++t%2}):s.setImmediate||void 0===s.MessageChannel?"document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var t=s.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},s.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)}:((e=new s.MessageChannel).port1.onmessage=c,function(){e.port2.postMessage(0)}),u=[];function c(){var t,n;r=!0;for(var e=u.length;e;){for(n=u,u=[],t=-1;++t<e;)n[t]();e=u.length}r=!1}a.exports=function(t){1!==u.push(t)||r||i()}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n,e){"function"==typeof Object.create?n.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(t,n){t.super_=n;function e(){}e.prototype=n.prototype,t.prototype=new e,t.prototype.constructor=t}},{}],4:[function(t,n,e){"use strict";var o=t("immediate");function s(){}var a={},i=["REJECTED"],u=["FULFILLED"],r=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,t!==s&&p(this,t)}function f(t,n,e){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function l(n,e,r){o(function(){var t;try{t=e(r)}catch(t){return a.reject(n,t)}t===n?a.reject(n,new TypeError("Cannot resolve promise with itself")):a.resolve(n,t)})}function h(t){var n=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof n)return function(){n.apply(t,arguments)}}function p(n,t){var e=!1;function r(t){e||(e=!0,a.reject(n,t))}function o(t){e||(e=!0,a.resolve(n,t))}var i=d(function(){t(o,r)});"error"===i.status&&r(i.value)}function d(t,n){var e={};try{e.value=t(n),e.status="success"}catch(t){e.status="error",e.value=t}return e}(n.exports=c).prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,n){if("function"!=typeof t&&this.state===u||"function"!=typeof n&&this.state===i)return this;var e=new this.constructor(s);return this.state!==r?l(e,this.state===u?t:n,this.outcome):this.queue.push(new f(e,t,n)),e},f.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},f.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},f.prototype.callRejected=function(t){a.reject(this.promise,t)},f.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},a.resolve=function(t,n){var e=d(h,n);if("error"===e.status)return a.reject(t,e.value);e=e.value;if(e)p(t,e);else{t.state=u,t.outcome=n;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(n)}return t},a.reject=function(t,n){t.state=i,t.outcome=n;for(var e=-1,r=t.queue.length;++e<r;)t.queue[e].callRejected(n);return t},c.resolve=function(t){if(t instanceof this)return t;return a.resolve(new this(s),t)},c.reject=function(t){var n=new this(s);return a.reject(n,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);var i=new Array(r),u=0,n=-1,c=new this(s);for(;++n<r;)!function(t,n){e.resolve(t).then(function(t){i[n]=t,++u!==r||o||(o=!0,a.resolve(c,i))},function(t){o||(o=!0,a.reject(c,t))})}(t[n],n);return c},c.race=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,r=!1;if(!e)return this.resolve([]);var o=-1,i=new this(s);for(;++o<e;)!function(t){n.resolve(t).then(function(t){r||(r=!0,a.resolve(i,t))},function(t){r||(r=!0,a.reject(i,t))})}(t[o]);return i}},{immediate:2}],5:[function(t,n,e){"use strict";for(var r={},o=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],i=0;i<o.length;i++){var u=o[i];r["[object "+u+"]"]=u.toLowerCase()}var c=r.toString,s=r.hasOwnProperty;function a(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?r[c.call(t)]||"object":typeof t}function d(t){if(t&&"object"===a(t)&&!t.nodeType&&(null===(n=t)||n!==n.window)){var n,e;try{if(t.constructor&&!s.call(t,"constructor")&&!s.call(t.constructor.prototype,"isPrototypeOf"))return}catch(t){return}for(e in t);return void 0===e||s.call(t,e)}}function v(t){return"function"===a(t)}var y=Array.isArray||function(t){return"array"===a(t)};n.exports=function(){for(var t=[],n=-1,e=arguments.length,r=new Array(e);++n<e;)r[n]=arguments[n];var o,i={};for(t.push({args:r,result:{container:i,key:"key"}});o=t.pop();)!function(t,n,e){var r,o,i,u,c,s,a=n[0]||{},f=1,l=n.length,h=!1,p=/\d+/;for("boolean"==typeof a&&(h=a,a=n[1]||{},f=2),"object"==typeof a||v(a)||(a={}),l===f&&(a=this,--f);f<l;f++)if(null!=(r=n[f]))for(o in s=y(r),r)o in Object.prototype||s&&!p.test(o)||(c=a[o],i=r[o],a!==i&&(h&&i&&(d(i)||(u=y(i)))?(c=u?(u=!1,c&&y(c)?c:[]):c&&d(c)?c:{},t.push({args:[h,c,i],result:{container:a,key:o}})):void 0!==i&&(y(r)&&v(i)||(a[o]=i))));e.container[e.key]=a}(t,o.args,o.result);return i.key}},{}],6:[function(t,n,e){"use strict";var r,o=(r=t("lie"))&&"object"==typeof r&&"default"in r?r.default:r,o="function"==typeof Promise?Promise:o;n.exports=o},{lie:7}],7:[function(t,n,e){"use strict";var o=t("immediate");function s(){}var a={},i=["REJECTED"],u=["FULFILLED"],r=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,t!==s&&p(this,t)}function f(t,n,e){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function l(n,e,r){o(function(){var t;try{t=e(r)}catch(t){return a.reject(n,t)}t===n?a.reject(n,new TypeError("Cannot resolve promise with itself")):a.resolve(n,t)})}function h(t){var n=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof n)return function(){n.apply(t,arguments)}}function p(n,t){var e=!1;function r(t){e||(e=!0,a.reject(n,t))}function o(t){e||(e=!0,a.resolve(n,t))}var i=d(function(){t(o,r)});"error"===i.status&&r(i.value)}function d(t,n){var e={};try{e.value=t(n),e.status="success"}catch(t){e.status="error",e.value=t}return e}(n.exports=c).prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,n){if("function"!=typeof t&&this.state===u||"function"!=typeof n&&this.state===i)return this;var e=new this.constructor(s);return this.state!==r?l(e,this.state===u?t:n,this.outcome):this.queue.push(new f(e,t,n)),e},f.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},f.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},f.prototype.callRejected=function(t){a.reject(this.promise,t)},f.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},a.resolve=function(t,n){var e=d(h,n);if("error"===e.status)return a.reject(t,e.value);e=e.value;if(e)p(t,e);else{t.state=u,t.outcome=n;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(n)}return t},a.reject=function(t,n){t.state=i,t.outcome=n;for(var e=-1,r=t.queue.length;++e<r;)t.queue[e].callRejected(n);return t},c.resolve=function(t){if(t instanceof this)return t;return a.resolve(new this(s),t)},c.reject=function(t){var n=new this(s);return a.reject(n,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);var i=new Array(r),u=0,n=-1,c=new this(s);for(;++n<r;)!function(t,n){e.resolve(t).then(function(t){i[n]=t,++u!==r||o||(o=!0,a.resolve(c,i))},function(t){o||(o=!0,a.reject(c,t))})}(t[n],n);return c},c.race=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,r=!1;if(!e)return this.resolve([]);var o=-1,i=new this(s);for(;++o<e;)!function(t){n.resolve(t).then(function(t){r||(r=!0,a.resolve(i,t))},function(t){r||(r=!0,a.reject(i,t))})}(t[o]);return i}},{immediate:2}],8:[function(t,n,e){"use strict";var u=t("promise-nodify");function o(t,n,e){for(var r in n)if(n.hasOwnProperty(r)){var o=c(t,r),i=o.base[o.name];if(i)if(i.hasOwnProperty("_handlers")){if(-1!==i._handlers.indexOf(n[r]))throw new Error("Wrapper method for '"+r+"' already installed: "+n[r]);i._handlers.push(n[r])}else o.base[o.name]=e(r,i,n[r],t)}}function c(t,n){for(n=n.split(".");1<n.length;)t=t[n.shift(0)];return{base:t,name:n[0]}}function i(t,n,e,r,o){r=r[t];if(void 0===r)throw new Error("No known wrapper for method name: "+t);e=[e],o=r(o,n,e);return o._original=n,o._handlers=e,o}e.installStaticWrapperMethods=function(r,t){r.new=r.new||function(t,n,e){return new r(t,n,e)},r.destroy=r.destroy||function(t,n,e){e=l(r,this,n,e),t=new r(t,e.options).destroy();return u(t,e.callback),t},o(r,t,e.createStaticWrapperMethod)},e.installWrapperMethods=function(t,n){o(t,n,e.createWrapperMethod)},e.createStaticWrapperMethod=function(t,n,e,r){return i(t,n,e,a,r)},e.createWrapperMethod=function(t,n,e,r){return i(t,n,e,s,r)};var s={destroy:function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,f(r))}},put:function(i,u,c){return function(){var t={};t.base=i||this;var n=Array.prototype.slice.call(arguments);t.doc=n.shift();var e="_id"in t.doc;do{var r=n.shift(),o=typeof r}while("string"!=o||e?"string"!=o||!e||"_rev"in t.doc?"object"==o?t.options=r:"function"==o&&(t.callback=r):t.doc._rev=r:(t.doc._id=r,e=!0),n.length);return t.options=t.options||{},h(c,t,function(){return u.call(this,t.doc,t.options)})}},post:function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.doc=t,h(u,r,function(){return i.call(this,r.doc,r.options)})}},get:function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.docId=t,h(u,r,function(){return i.call(this,r.docId,r.options)})}},remove:function(i,u,c){return function(t,n,e,r){var o;return"string"==typeof n?(o=l(i,this,e,r)).doc={_id:t,_rev:n}:(o=l(i,this,n,e)).doc=t,h(c,o,function(){return u.call(this,o.doc,o.options)})}},bulkDocs:function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return"object"==typeof t&&"new_edits"in t&&(r.options.new_edits=t.new_edits),r.docs=t.docs||t,h(u,r,function(){return i.call(this,r.docs,r.options)})}},allDocs:function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,p(r,n))}}};s.bulkGet=s.allDocs,s.changes=function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,p(r,n))}},s.sync=function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.url=t,h(u,r,function(){return i.call(this,r.url,r.options)})}},s["replicate.from"]=s.sync,s["replicate.to"]=s.sync,s.putAttachment=function(s,a,f){return function(t,n,e,r,o,i,u){var c;return"string"==typeof o?((c=l(s,this,i,u)).rev=e,c.doc=r,c.type=o):((c=l(s,this,o,i)).rev=null,c.doc=e,c.type=r),c.docId=t,c.attachmentId=n,h(f,c,function(){return a.call(this,c.docId,c.attachmentId,c.rev,c.doc,c.type)})}},s.getAttachment=function(i,u,c){return function(t,n,e,r){var o=l(i,this,e,r);return o.docId=t,o.attachmentId=n,h(c,o,function(){return u.call(this,o.docId,o.attachmentId,o.options)})}},s.removeAttachment=function(u,c,s){return function(t,n,e,r,o){var i=l(u,this,r,o);return i.docId=t,i.attachmentId=n,i.rev=e,h(s,i,function(){return c.call(this,i.docId,i.attachmentId,i.rev)})}},s.query=function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.fun=t,h(u,r,function(){return i.call(this,r.fun,r.options)})}},s.viewCleanup=function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,p(r,n))}},s.createIndex=function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.index=t,h(u,r,function(){return i.call(this,r.index)})}},s.deleteIndex=s.createIndex,s.find=function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.request=t,h(u,r,function(){return i.call(this,r.request)})}},s.explain=s.find,s.info=function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,f(r))}},s.getIndexes=s.info,s.compact=function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,p(r,n))}},s.revsDiff=function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.diff=t,h(u,r,function(){return i.call(this,r.diff)})}},s.list=function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.path=t,h(u,r,function(){return i.call(this,r.path,r.options)})}},s.rewriteResultRequestObject=s.list,s.show=s.list,s.update=s.list,s.getSecurity=function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,p(r,n))}},s.putSecurity=function(o,i,u){return function(t,n,e){var r=l(o,this,n,e);return r.secObj=t,h(u,r,function(){return i.call(this,r.secObj)})}};var a={};function l(t,n,e,r){return"function"==typeof e&&(r=e,e={}),{base:t||n,options:e||{},callback:r}}function h(t,n,e){var r=n.callback;delete n.callback,e=e.bind(n.base);for(var o=t.length-1;0<=o;--o)e=t[o].bind(null,e,n);var i=e();return u(i,r),i}function f(t){return function(){return t.call(this)}}function p(t,n){return function(){return t.call(this,n.options)}}function r(t,n){for(var e in n)if(n.hasOwnProperty(e)){var r,o=c(t,e),i=o.base[o.name];if(void 0!==i){try{r=i._handlers.indexOf(n[e])}catch(t){r=-1}if(-1===r)throw new Error("Wrapper method for '"+e+"' not installed: "+n[e]);i._handlers.splice(r,1),i._handlers.length||(delete o.base[o.name],o.base[o.name]!==i._original&&(o.base[o.name]=i._original))}}}a.new=function(o,i,u){return function(t,n,e){var r;return"object"==typeof t?r=l(o,this,t,n):(r=l(o,this,n,e)).options.name=t,h(u,r,function(){return i.call(this,r.options)})}},a.destroy=function(o,i,u){return function(t,n,e){var r;return"object"==typeof t?r=l(o,this,t,n):(r=l(o,this,n,e)).options.name=t,r.options.internal?i.apply(o,arguments):h(u,r,function(){var t=r.options.name;return delete r.options.name,i.call(this,t,r.options)})}},a.replicate=function(i,u,c){return function(t,n,e,r){var o=l(i,this,e,r);return o.source=t,o.target=n,h(c,o,function(){return u.call(this,o.source,o.target,o.options)})}},a.allDbs=function(e,r,o){return function(t,n){n=l(e,this,t,n);return h(o,n,f(r))}},e.uninstallWrapperMethods=function(t,n){r(t,n)},e.uninstallStaticWrapperMethods=function(t,n){r(t,n)}},{"promise-nodify":10}],9:[function(t,n,e){var r,o,n=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(n){if(r===setTimeout)return setTimeout(n,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(n,0);try{return r(n,0)}catch(t){try{return r.call(null,n,0)}catch(t){return r.call(this,n,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(t){o=u}}();var s,a=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?a=s.concat(a):l=-1,a.length&&p())}function p(){if(!f){var t=c(h);f=!0;for(var n=a.length;n;){for(s=a,a=[];++l<n;)s&&s[l].run();l=-1,n=a.length}s=null,f=!1,function(n){if(o===clearTimeout)return clearTimeout(n);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(n);try{o(n)}catch(t){try{return o.call(null,n)}catch(t){return o.call(this,n)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function v(){}n.nextTick=function(t){var n=new Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];a.push(new d(t,n)),1!==a.length||f||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],10:[function(t,n,e){"use strict";n.exports=function(t,n){"function"==typeof n&&t.then(function(t){n(null,t)},function(t){n(t,null)})}},{}],11:[function(t,n,s){!function(c){!function(){"use strict";var u=t("pouchdb-promise");s.once=function(n){var e=!1;return s.getArguments(function(t){if(e)throw console.trace(),new Error("once called  more than once");e=!0,n.apply(this,t)})},s.getArguments=function(r){return function(){for(var t=arguments.length,n=new Array(t),e=-1;++e<t;)n[e]=arguments[e];return r.call(this,n)}},s.toPromise=function(i){return s.getArguments(function(n){var e,o=this,r="function"==typeof n[n.length-1]&&n.pop();r&&(e=function(t,n){c.nextTick(function(){r(t,n)})});var t=new u(function(e,r){try{var t=s.once(function(t,n){t?r(t):e(n)});n.push(t),i.apply(o,n)}catch(t){r(t)}});return e&&t.then(function(t){e(null,t)},e),t.cancel=function(){return this},t})},s.inherits=t("inherits"),s.Promise=u,s.extend=t("pouchdb-extend"),s.clone=function(t){return s.extend(!0,{},t)},s.isLocalId=function(t){return/^_local/.test(t)}}.call(this)}.call(this,t("_process"))},{_process:9,inherits:3,"pouchdb-extend":5,"pouchdb-promise":6}]},{},[1]);
